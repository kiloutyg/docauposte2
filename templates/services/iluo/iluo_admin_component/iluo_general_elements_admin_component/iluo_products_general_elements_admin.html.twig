<turbo-frame
	id="products-section"
	class="container row mx-auto px-0 px-md-2"
	data-controller="name-validation">
	{{ form_start(productForm, { attr: {class: 'col-lg-6 col-md-12 col-sm-12 d-flex flex-column', method: 'POST', action: path('app_iluo_products_general_elements_admin')}}
	) }}
	<div
		class="col-12">
		{{ form_label(productForm.name) }}
		{{ form_widget(productForm.name) }}
		{{ form_widget(productForm.save) }}
	</div>
	<div
		class="productName-message"
		data-name-validation-target="productNameMessage"></div>
	<div
		id="flash-messages">
		{% for label, messages in app.flashes %}
			<div
				class="alert alert-{{ label }}">
				{% for message in messages %}
					<p>
						{{ message }}
					</p>
				{% endfor %}
			</div>
		{% endfor %}
	</div>
	{{ form_end(productForm) }}
	{% if products is not empty %}
		<div
			class="col-lg-6 col-md-12 col-sm-12 mt-auto mb-auto accordion"
			id="accordionProductList">
			<div
				class="accordion-item shadow-lg shadow-lg-inset border border-dark">
				<h2
					class="accordion-header"
					id="headingProductList">
					<button
						class="accordion-button bg-white text-dark collapsed"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#collapseProductList"
						aria-expanded="false"
						aria-controls="collapseProductList">
						<strong>
							Liste des Produits
						</strong>
					</button>
				</h2>
				<div
					id="collapseProductList"
					class="accordion-collapse collapse "
					aria-labelledby="headingProductList"
					data-bs-parent="#accordionProductList">
					<div
						class="accordion-body bg-white text-dark">
						<ul
							class="list-group">
							{% for product in products %}
								<li
									class="list-group-item bg-white text-dark d-flex justify-content-between align-items-center">
									<strong>
										{{ product.name }}
									</strong>
									{{ delete_form('products', product.id, 'app_iluo_products_general_elements_admin') }}
								</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</div>
		</div>
	{% endif %}


</turbo-frame>
